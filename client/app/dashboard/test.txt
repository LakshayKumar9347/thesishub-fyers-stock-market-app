"use client"

import React, { useEffect, useState } from 'react';
import '.././globals.css';

const Home = () => {
    const [data, setData] = useState([]);

    const fetchData = async () => {
        try {
            const response = await fetch('https://jsonplaceholder.typicode.com/users');
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            const jsonData = await response.json();
            setData(jsonData);
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    };

    useEffect(() => {
        fetchData();
    }, []);

    return (
        <>
            {/* Header Section */}
            <header className="bg-teal-800 py-4">
                <div className="container mx-auto text-center">
                    <span className="text-white text-2xl font-bold">
                    NSE Live Market Data
                    </span>
                </div>
            </header>

            {/* Main Content */}
            <main className="container m-auto mt-7">

                <div className="flex justify-between mb-5">
                    <div>
                        <h4 className="text-gray-600">Option Chain (Equity Derivatives):</h4>
                    </div>
                    <div className="flex space-x-2">
                        <div>
                            <label className="text-gray-600" htmlFor="indexDropdown">Select Index:</label>
                            <select
                                id="indexDropdown"
                                className="border rounded p-2"
                                value="select"
                               >
                                <option value="NIFTY">NIFTY</option>
                                <option value="FINNIFTY">FINNIFTY</option>
                                <option value="BANKNIFTY">BANKNIFTY</option>
                                <option value="MIDCPNIFTY">MIDCPNIFTY</option>
                                <option value="SENSEX">SENSEX</option>
                                <option value="BANKEX">BANKEX</option>
                            </select>
                        </div>
                        <div>
                            <label className="text-gray-600" htmlFor="symbolDropdown">Select Symbol:</label>
                            <select
                                id="symbolDropdown"
                                className="border rounded p-2"
                                value="select"
                               >
                                <option value="RELIANCE">RELIANCE</option>
                                <option value="HDFCBANK">HDFCBANK</option>
                                <option value="BAJAJJ-FINANCE">BAJAJJ-FINANCE</option>
                                <option value="SBI">SBI</option>
                                <option value="AXISBANK">AXISBANK</option>
                                <option value="INFY">INFY</option>
                                <option value="TCS">TCS</option>
                                <option value="ICICIBANK">ICICIBANK</option>
                            </select>
                        </div>
                        <div>
                            <label className="text-gray-600" htmlFor="expiryDropdown">Expiry Date:</label>
                            <select
                                id="expiryDropdown"
                                className="border rounded p-2"
                                value="select"
                                >
                                <option value="04-Jan-2024">04-Jan-2024</option>
                                <option value="11-Jan-2024">11-Jan-2024</option>
                                <option value="18-Jan-2024">18-Jan-2024</option>
                                <option value="25-Jan-2024">25-Jan-2024</option>
                            </select>
                        </div>
                        <div>
                            <label className="text-gray-600" htmlFor="strikeDropdown">Select Strike Price:</label>
                            <select
                                id="strikeDropdown"
                                className="border rounded p-2"
                                value="select"
                                >
                                <option value="21800">21800</option>
                                <option value="21900">21900</option>
                                <option value="22000">22000</option>
                                <option value="22100">22100</option>
                                <option value="22200">22200</option>
                                <option value="22300">22300</option>
                                <option value="22400">22400</option>
                            </select>
                        </div>
                    </div>
                </div>
                <table className="table-auto w-full border">
                    <thead className="bg-gray-800 text-white">
                        <tr>
                            <th className="px-4 py-2">OI</th>
                            <th className="px-4 py-2">LTP</th>
                            <th className="px-4 py-2">STRIKE</th>
                            <th className="px-4 py-2">Future Price</th>
                            <th className="px-4 py-2">Disc/Premium</th>
                            <th className="px-4 py-2">CE/LTP</th>
                            <th className="px-4 py-2">PE/LTP</th>
                        </tr>
                    </thead>
                    <tbody>
                        {data.map((row) => (
                            <tr key={row.id} className="border">
                                <td className="px-4 py-2">{row.id}</td>
                                <td className="px-4 py-2">{row.address.zipcode}</td>
                                <td className="px-4 py-2">{row.address.geo.lng}</td>
                                <td className="px-4 py-2">{row.address.suite}</td>
                                <td className="px-4 py-2">{row.address.geo.lat}</td>
                                <td className="px-4 py-2">{row.address.geo.lat}</td>
                                <td className="px-4 py-2">{row.address.geo.lng}</td>
                            </tr>
                        ))}
                    </tbody>
                </table>
            </main>

        </>
    );
};

export default Home;
